import{o as we,a as W,e as ke}from"../chunks/firebase.app.XDAO2sjD.js";import{B as X,g as b,a,K as Le,t as U,h as x,d as c,L as E,j as J,s as e,c as f,A as Ae,b as m,o as z,k as A,z as Ne,M as ze}from"../chunks/disclose-version.gLDZU4pp.js";import{u as C,r as Y,p as M,a as O,s as N,f as Se,e as S}from"../chunks/runtime.Z3s11QRo.js";import{o as Ue}from"../chunks/main-client.Sh0UTU4W.js";import{s as je,e as Q}from"../chunks/store.H7KOKlfw.js";import{g as Z}from"../chunks/entry.b7wfs64H.js";import{s as j}from"../chunks/session.Tg9dBN4O.js";import{p as $}from"../chunks/stores.lDVx-_vN.js";const Ce=async({url:i})=>({getAuthUser:()=>new Promise(s=>{we(W,o=>s(o||!1))}),url:i.pathname}),$e=Object.freeze(Object.defineProperty({__proto__:null,load:Ce},Symbol.toStringTag,{value:"Module"}));var Me=(i,n,s)=>n(s.href),Oe=c('<li><button class="svelte-1uysugx"> </button></li>');function v(i,n){O(n,!1);const s={};C(s);const o=()=>N($,"$page",s);var d=x(i,!0,Oe),u=a(d),p=a(u);Y(()=>{Le(u,"active",o().url.pathname==n.href),U(p,n.text)}),u.__click=[Me,Z,n],b(i,d),M()}X(["click"]);const Pe=async(i,n,s,o,d,u)=>{await n(s).then(()=>{Se(o,void 0),u("/auth/login")}).catch(p=>console.log(p))};var Be=c("<li><button>Logout</button></li>");function V(i,n){O(n,!1);const s={};C(s);const o=()=>N(j,"$session",s);var d=x(i,!0,Be),u=a(d);u.__click=[Pe,ke,W,j,o,Z],b(i,d),M()}X(["click"]);var He=c("<li>Loading</li>"),Ie=c("<!> <!>",!0),Fe=c("<!> <!>",!0),Re=c("<li>Loading</li>"),Ge=c("<!> <!>",!0),Ke=c("<!> <!>",!0),Te=c('<header class="shadow px-4 bg-base-100"><div class="navbar"><div class="navbar-start"><div class="dropdown"><div tabindex="0" role="button" class="btn btn-ghost lg:hidden"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h8m-8 6h16"></path></svg></div> <ul class="menu menu-sm dropdown-content mt-3 z-[1] p-2 shadow bg-base-100 rounded-box w-52"><!> <!> <li><span>Continents</span> <ul class="p-2"><!></ul></li> <li><span> </span> <ul class="p-2"><!></ul></li></ul></div> <a class="btn btn-ghost text-xl font-logoFont" href="/">Guess-A-Flag</a></div> <div class="navbar-center hidden lg:flex"><ul class="menu menu-horizontal px-1"><!> <li><details><summary>Continents</summary> <ul class="p-2 z-[1]"><!></ul></details></li> <!> <li><details><summary> </summary> <ul class="p-2 z-[1]"><!></ul></details></li></ul></div> <div class="navbar-end"><span class="btn"> </span></div></div></header>');function qe(i,n){O(n,!1);const s={};C(s);const o=()=>N(j,"$session",s),d=()=>N(je,"$score",s),u=async()=>await fetch("/api/continent").then(r=>r.json());var p=x(i,!0,Te),P=a(p),_=a(P),h=a(_),y=a(h),ee=e(e(y)),H=a(ee),I=e(e(H)),F=e(e(I)),ae=a(F),re=e(e(ae)),te=a(re),se=e(e(F)),R=a(se),ne=a(R),oe=e(e(R)),le=a(oe),G=e(e(_)),ie=a(G),K=a(ie),T=e(e(K)),ue=a(T),ve=a(ue),de=e(e(ve)),ge=a(de),q=e(e(T)),_e=e(e(q)),ce=a(_e),D=a(ce),fe=a(D),me=e(e(D)),pe=a(me),he=e(e(G)),be=a(he),xe=a(be);Y(()=>{U(ne,o()?.user?.displayName?o().user.displayName:"User"),U(fe,o()?.user?.displayName?o().user.displayName:"User"),U(xe,`Score: ${Ae(d())}`)}),v(H,{href:"/",text:"Home"}),v(I,{href:"/scores",text:"Scores"}),E(te,u,r=>{var t=x(r,!0,He);b(r,t)},(r,t)=>{var l=A(r),g=m(l);Q(g,()=>t,1,(w,k,ye)=>{var L=A(w),B=m(L);v(B,{get href(){return S(k).href},get text(){return S(k).name}}),f(w,L)},null),f(r,l)},null),J(le,()=>o()?.loggedIn,r=>{var t=z(r,!0,Ie),l=m(t),g=e(e(l));v(l,{href:"/profile",text:"Profile"}),V(g,{}),f(r,t)},r=>{var t=z(r,!0,Fe),l=m(t),g=e(e(l));v(l,{href:"/auth/login",text:"Login"}),v(g,{href:"/auth/register",text:"Register"}),f(r,t)}),v(K,{href:"/",text:"Home"}),E(ge,u,r=>{var t=x(r,!0,Re);b(r,t)},(r,t)=>{var l=A(r),g=m(l);Q(g,()=>t,1,(w,k,ye)=>{var L=A(w),B=m(L);v(B,{get href(){return S(k).href},get text(){return S(k).name}}),f(w,L)},null),f(r,l)},null),v(q,{href:"/scores",text:"Scores"}),J(pe,()=>o()?.loggedIn,r=>{var t=z(r,!0,Ge),l=m(t),g=e(e(l));v(l,{href:"/profile",text:"Profile"}),V(g,{}),f(r,t)},r=>{var t=z(r,!0,Ke),l=m(t),g=e(e(l));v(l,{href:"/auth/login",text:"Login"}),v(g,{href:"/auth/register",text:"Register"}),f(r,t)}),b(i,p),M()}var De=c('<div class="app bg-gray-200 svelte-85l81p"><!> <main class="svelte-85l81p"><!></main></div>');function ea(i,n){O(n,!1);const s={};C(s);const o=()=>N($,"$page",s);Ue(async()=>{const _=await n.data.getAuthUser(),h=!!_;j.update(y=>({...y,user:{uid:_.uid,displayName:_.displayName,email:_.email},loggedIn:h}))});var d=x(i,!0,De),u=a(d),p=e(e(u)),P=a(p);qe(u,{}),Ne(P,()=>o().url.pathname,_=>{var h=A(_),y=m(h);ze(y,n.children,{},null),f(_,h)}),b(i,d),M()}export{ea as component,$e as universal};
