import{o as Ge,a as xe,e as Je}from"../chunks/firebase.app.XDAO2sjD.js";import{D as pe,g as I,a as u,M as ie,t as te,i as L,d as h,N as _e,j as D,s as i,c,C as q,b as g,o as K,k as p,O as j,H as le,P as ne,I as we,Q as Qe,J as We,E as ke,F as Pe,R as de,L as qe,e as me,B as Ke}from"../chunks/disclose-version.WNyamhy6.js";import{u as ee,r as R,p as H,a as S,s as V,h as Ve,f as G,C as Xe,H as T,I as J,d as Q,g as P,m as M,b as B}from"../chunks/runtime.gTq0fGWg.js";import{o as Ce}from"../chunks/main-client.ZZw8-5wp.js";import{s as Ye,e as ye,g as Ze}from"../chunks/store.c34zgRvx.js";import{g as Ie}from"../chunks/entry._72Z-Xrk.js";import{s as se}from"../chunks/session.NCPXoLXL.js";import{p as Oe}from"../chunks/stores.VELAwreo.js";import{u as $e,t as be,s as et,e as tt,a as at,p as Te}from"../chunks/Toaster.svelte_svelte_type_style_lang.0mzTsAEn.js";const st=async({url:s})=>({getAuthUser:()=>new Promise(r=>{Ge(xe,a=>r(a||!1))}),url:s.pathname}),Wt=Object.freeze(Object.defineProperty({__proto__:null,load:st},Symbol.toStringTag,{value:"Module"}));var rt=(s,e,r)=>e(r.href),nt=h('<li><button class="svelte-1uysugx"> </button></li>');function N(s,e){S(e,!1);const r={};ee(r);const a=()=>V(Oe,"$page",r);var t=L(s,!0,nt),l=u(t),d=u(l);R(()=>{ie(l,"active",a().url.pathname==e.href),te(d,e.text)}),l.__click=[rt,Ie,e],I(s,t),H()}pe(["click"]);const ot=async(s,e,r,a,t,l)=>{await e(r).then(()=>{Ve(a,void 0),l("/auth/login")}).catch(d=>console.log(d))};var it=h("<li><button>Logout</button></li>");function he(s,e){S(e,!1);const r={};ee(r);const a=()=>V(se,"$session",r);var t=L(s,!0,it),l=u(t);l.__click=[ot,Je,xe,se,a,Ie],I(s,t),H()}pe(["click"]);var lt=h("<li>Loading</li>"),dt=h("<!> <!>",!0),vt=h("<!> <!>",!0),ut=h("<li>Loading</li>"),ft=h("<!> <!>",!0),ct=h("<!> <!>",!0),gt=h('<header class="shadow px-4 bg-base-100"><div class="navbar"><div class="navbar-start"><div class="dropdown"><div tabindex="0" role="button" class="btn btn-ghost lg:hidden"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h8m-8 6h16"></path></svg></div> <ul class="menu menu-sm dropdown-content mt-3 z-[1] p-2 shadow bg-base-100 rounded-box w-52"><!> <!> <li><span>Continents</span> <ul class="p-2"><!></ul></li> <li><span> </span> <ul class="p-2"><!></ul></li></ul></div> <a class="btn btn-ghost text-xl font-logoFont" href="/">Guess-A-Flag</a></div> <div class="navbar-center hidden lg:flex"><ul class="menu menu-horizontal px-1"><!> <li><details><summary>Continents</summary> <ul class="p-2 z-[1]"><!></ul></details></li> <!> <li><details><summary> </summary> <ul class="p-2 z-[1]"><!></ul></details></li></ul></div> <div class="navbar-end"><span class="btn"> </span></div></div></header>');function _t(s,e){S(e,!1);const r={};ee(r);const a=()=>V(se,"$session",r),t=()=>V(Ye,"$score",r),l=async()=>await fetch("/api/continent").then(m=>m.json());var d=L(s,!0,gt),n=u(d),f=u(n),_=u(f),o=u(_),v=i(i(o)),y=u(v),b=i(i(y)),x=i(i(b)),k=u(x),O=i(i(k)),U=u(O),E=i(i(x)),W=u(E),z=u(W),F=i(i(W)),X=u(F),ve=i(i(f)),Le=u(ve),ue=u(Le),fe=i(i(ue)),Ne=u(fe),je=u(Ne),He=i(i(je)),Se=u(He),ce=i(i(fe)),Ae=i(i(ce)),Me=u(Ae),ge=u(Me),Be=u(ge),De=i(i(ge)),Ue=u(De),ze=i(i(ve)),Re=u(ze),Ee=u(Re);R(()=>{te(z,a()?.user?.displayName?a().user.displayName:"User"),te(Be,a()?.user?.displayName?a().user.displayName:"User"),te(Ee,`Score: ${q(t())}`)}),N(y,{href:"/",text:"Home"}),N(b,{href:"/scores",text:"Scores"}),_e(U,l,m=>{var w=L(m,!0,lt);I(m,w)},(m,w)=>{var C=p(m),A=g(C);ye(A,()=>w,1,(Y,Z,Fe)=>{var $=p(Y),re=g($);N(re,{get href(){return G(Z).href},get text(){return G(Z).name}}),c(Y,$)},null),c(m,C)},null),D(X,()=>a()?.loggedIn,m=>{var w=K(m,!0,dt),C=g(w),A=i(i(C));N(C,{href:"/profile",text:"Profile"}),he(A,{}),c(m,w)},m=>{var w=K(m,!0,vt),C=g(w),A=i(i(C));N(C,{href:"/auth/login",text:"Login"}),N(A,{href:"/auth/register",text:"Register"}),c(m,w)}),N(ue,{href:"/",text:"Home"}),_e(Se,l,m=>{var w=L(m,!0,ut);I(m,w)},(m,w)=>{var C=p(m),A=g(C);ye(A,()=>w,1,(Y,Z,Fe)=>{var $=p(Y),re=g($);N(re,{get href(){return G(Z).href},get text(){return G(Z).name}}),c(Y,$)},null),c(m,C)},null),N(ce,{href:"/scores",text:"Scores"}),D(Ue,()=>a()?.loggedIn,m=>{var w=K(m,!0,ft),C=g(w),A=i(i(C));N(C,{href:"/profile",text:"Profile"}),he(A,{}),c(m,w)},m=>{var w=K(m,!0,ct),C=g(w),A=i(i(C));N(C,{href:"/auth/login",text:"Login"}),N(A,{href:"/auth/register",text:"Register"}),c(m,w)}),I(s,d),H()}function mt(s,e,r){const{reverseOrder:a,gutter:t=8,defaultPosition:l}=r||{},d=e.filter(o=>(o.position||l)===(s.position||l)&&o.height),n=d.findIndex(o=>o.id===s.id),f=d.filter((o,v)=>v<n&&o.visible).length;return d.filter(o=>o.visible).slice(...a?[f+1]:[0,f]).reduce((o,v)=>o+(v.height||0)+t,0)}const yt={startPause(){et(Date.now())},endPause(){tt(Date.now())},updateHeight:(s,e)=>{at({id:s,height:e})},calculateOffset:mt};function bt(s){const{toasts:e,pausedAt:r}=$e(s),a=new Map;let t;const l=[r.subscribe(d=>{if(d){for(const[,n]of a)clearTimeout(n);a.clear()}t=d}),e.subscribe(d=>{if(t)return;const n=Date.now();for(const f of d){if(a.has(f.id)||f.duration===1/0)continue;const _=(f.duration||0)+f.pauseDuration-(n-f.createdAt);if(_<0)return f.visible&&be.dismiss(f.id),null;a.set(f.id,setTimeout(()=>be.dismiss(f.id),_))}})];return Xe(()=>{for(const d of l)d()}),{toasts:e,handlers:yt}}var ht=h('<div class="svelte-11kvm4p"></div>');function xt(s,e){S(e,!1);let r=T(e,"primary",0,"#61d345"),a=T(e,"secondary",0,"#fff");var t=L(s,!0,ht);R(()=>{j(t,"--primary",r()),j(t,"--secondary",a())}),I(s,t),H()}var pt=h('<div class="svelte-1ee93ns"></div>');function wt(s,e){S(e,!1);let r=T(e,"primary",0,"#ff4b4b"),a=T(e,"secondary",0,"#fff");var t=L(s,!0,pt);R(()=>{j(t,"--primary",r()),j(t,"--secondary",a())}),I(s,t),H()}var kt=h('<div class="svelte-1j7dflg"></div>');function Pt(s,e){S(e,!1);let r=T(e,"primary",0,"#616161"),a=T(e,"secondary",0,"#e0e0e0");var t=L(s,!0,kt);R(()=>{j(t,"--primary",r()),j(t,"--secondary",a())}),I(s,t),H()}var Ct=h('<div class="animated svelte-1kgeier"> </div>'),It=h('<div class="status svelte-1kgeier"><!></div>'),Ot=h('<div class="indicator svelte-1kgeier"><!> <!></div>');function oe(s,e){S(e,!1);const r=M(),a=M(),t=M();J(()=>{e.toast,Q(()=>{(()=>{const n=e.toast;return B(r,n.type),B(a,n.icon),B(t,n.iconTheme),n})()})});var l=p(s),d=g(l);D(d,()=>typeof P(a)=="string",n=>{var f=L(n,!0,Ct),_=u(f);we(_,()=>P(a)),I(n,f)},n=>{var f=p(n),_=g(f);D(_,()=>typeof P(a)<"u",o=>{var v=p(o),y=g(v);le(y,()=>P(a),b=>{b(y,{})}),c(o,v)},o=>{var v=p(o),y=g(v);D(y,()=>P(r)!=="blank",b=>{var x=L(b,!0,Ot),k=u(x),O=i(i(k));Pt(k,ne(()=>P(t))),D(O,()=>P(r)!=="loading",U=>{var E=L(U,!0,It),W=u(E);D(W,()=>P(r)==="error",z=>{var F=p(z),X=g(F);wt(X,ne(()=>P(t))),c(z,F)},z=>{var F=p(z),X=g(F);xt(X,ne(()=>P(t))),c(z,F)}),I(U,E)},null),I(b,x)},null),c(o,v)}),c(n,f)}),c(s,l),H()}var Tt=h("<div><!></div>");function ae(s,e){S(e,!1);var r=L(s,!0,Tt),a=u(r);Qe(r,()=>[{class:"message"},e.toast.ariaProps],!0,"svelte-1nauejd"),D(a,()=>typeof e.toast.message=="string",t=>{var l=We(t);we(l,()=>e.toast.message),I(t,l)},t=>{var l=p(t),d=g(l);le(d,()=>e.toast.message,n=>{n(d,{get toast(){return e.toast}})}),c(t,l)}),I(s,r),H()}var Lt=h("<!> <!>",!0),Nt=h("<div><!></div>");function jt(s,e){S(e,!1);let r=T(e,"position",8,()=>{}),a=T(e,"style",0,""),t=T(e,"Component",8,()=>{}),l=M(),d=M();J(()=>{e.toast,r(),Q(()=>{const o=(e.toast.position||r()||"top-center").includes("top");B(l,o?1:-1);const[v,y]=Te()?["fadeIn","fadeOut"]:["enter","exit"];B(d,e.toast.visible?v:y)})});var n=L(s,!0,Nt),f=u(n),_;R(()=>{ke(n,`base ${q(e.toast.height?P(d):"transparent")} ${q(e.toast.className||"")} svelte-ug60r4`),_!==(_=`${q(a())}; ${q(e.toast.style)}`)&&Pe(n,"style",_),j(n,"--factor",P(l))}),D(f,t,o=>{var v=p(o),y=g(v);le(y,t,b=>{b(y,{$$slots:{icon:(x,k)=>{var O=p(x),U=g(O);oe(U,{get toast(){return e.toast},slot:"icon"}),c(x,O)},message:(x,k)=>{var O=p(x),U=g(O);ae(U,{get toast(){return e.toast},slot:"message"}),c(x,O)}}})}),c(o,v)},o=>{var v=p(o),y=g(v);de(y,e.children,{ToastIcon:oe,ToastMessage:ae,get toast(){return e.toast}},b=>{var x=K(b,!0,Lt),k=g(x),O=i(i(k));oe(k,{get toast(){return e.toast}}),ae(O,{get toast(){return e.toast}}),c(b,x)}),c(o,v)}),I(s,n),H()}var Ht=h('<div class="wrapper svelte-v01oml"><!></div>');function St(s,e){S(e,!1);const r=M(),a=M(),t=M(),l=M();let d=M();Ce(()=>{e.setHeight(P(d).getBoundingClientRect().height)}),J(()=>{e.toast,Q(()=>{B(r,e.toast.position?.includes("top")?0:null)})}),J(()=>{e.toast,Q(()=>{B(a,e.toast.position?.includes("bottom")?0:null)})}),J(()=>{e.toast,Q(()=>{B(t,e.toast.position?.includes("top")?1:-1)})}),J(()=>{e.toast,Q(()=>{B(l,e.toast.position?.includes("center")&&"center"||(e.toast.position?.includes("right")||e.toast.position?.includes("end"))&&"flex-end"||null)})});var n=L(s,!0,Ht);qe(n,_=>B(d,_),d),ie(n,"transition",!Te());var f=u(n);R(()=>{ie(n,"active",e.toast.visible),j(n,"--factor",P(t)),j(n,"--offset",e.toast.offset),j(n,"top",P(r)),j(n,"bottom",P(a)),j(n,"justify-content",P(l))}),D(f,()=>e.toast.type==="custom",_=>{var o=p(_),v=g(o);ae(v,{get toast(){return e.toast}}),c(_,o)},_=>{var o=p(_),v=g(o);de(v,e.children,{get toast(){return e.toast}},y=>{var b=p(y),x=g(b);jt(x,{get toast(){return e.toast},get position(){return e.toast.position}}),c(y,b)}),c(_,o)}),I(s,n),H()}var At=h('<div role="alert"></div>');function Mt(s,e){S(e,!1);const r={};ee(r);const a=()=>V(o,"$toasts",r);let t=T(e,"reverseOrder",0,!1),l=T(e,"position",0,"top-center"),d=T(e,"toastOptions",8,()=>{}),n=T(e,"gutter",0,8),f=T(e,"containerStyle",8,()=>{}),_=T(e,"containerClassName",8,()=>{});const{toasts:o,handlers:v}=bt(d());let y=M();J(()=>{a(),l(),t(),n(),Q(()=>{B(y,a().map(k=>({...k,position:k.position||l(),offset:v.calculateOffset(k,a(),{reverseOrder:t(),gutter:n(),defaultPosition:l()})})))})});var b=L(s,!0,At),x;R(()=>{ke(b,`toaster ${q(_()||"")} svelte-1phplh9`),x!==(x=f())&&Pe(b,"style",x)}),me("mouseenter",b,v.startPause,!1),me("mouseleave",b,v.endPause,!1),Ze(b,()=>P(y),13,(k,O)=>G(k).id,(k,O,U)=>{var E=p(k),W=g(E);St(W,{get toast(){return G(O)},setHeight:z=>v.updateHeight(G(O).id,z)}),c(k,E)},null),I(s,b),H()}var Bt=h('<div class="app bg-gray-200 svelte-85l81p"><!> <main class="svelte-85l81p"><!></main></div> <!>',!0);function qt(s,e){S(e,!1);const r={};ee(r);const a=()=>V(Oe,"$page",r);Ce(async()=>{const o=await e.data.getAuthUser(),v=!!o;se.update(y=>({...y,user:{uid:o.uid,displayName:o.displayName,email:o.email},loggedIn:v}))});var t=K(s,!0,Bt),l=g(t),d=u(l),n=i(i(d)),f=u(n),_=i(i(l));_t(d,{}),Ke(f,()=>a().url.pathname,o=>{var v=p(o),y=g(v);de(y,e.children,{},null),c(o,v)}),Mt(_,{}),c(s,t),H()}export{qt as component,Wt as universal};
