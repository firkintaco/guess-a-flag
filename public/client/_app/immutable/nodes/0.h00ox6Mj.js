import{o as Ge,a as xe,d as Je}from"../chunks/firebase.app.bomVEVKu.js";import{D as pe,c as O,a as u,M as ie,f as te,o as L,t as h,N as _e,i as B,s as i,d as c,C as q,j as g,A as K,g as p,O as A,H as le,P as ne,I as we,Q as Qe,J as We,E as ke,F as Pe,R as de,L as qe,e as me,B as Ke}from"../chunks/disclose-version.obGOZsW6.js";import{z as ee,r as R,p as S,a as j,A as V,B as Ve,d as G,C as Xe,G as T,H as J,b as Q,g as P,m as z,s as M}from"../chunks/runtime.QezSLGb2.js";import{o as Ce}from"../chunks/main-client.HuvZEqFL.js";import{e as be,a as Ye}from"../chunks/each.nEGUvMwz.js";import{s as Ze,g as Oe}from"../chunks/entry.1ZrvYiQz.js";import{s as $e}from"../chunks/store.Fa0ykZqT.js";import{s as se}from"../chunks/session.goP9yUW7.js";import{u as et,t as ye,s as tt,e as at,a as st,p as Ie}from"../chunks/Toaster.svelte_svelte_type_style_lang.m6_LZ8UL.js";const rt=async({url:t})=>({getAuthUser:()=>new Promise(r=>{Ge(xe,s=>r(s||!1))}),url:t.pathname}),Kt=Object.freeze(Object.defineProperty({__proto__:null,load:rt},Symbol.toStringTag,{value:"Module"})),nt=()=>{const t=Ze;return{page:{subscribe:t.page.subscribe},navigating:{subscribe:t.navigating.subscribe},updated:t.updated}},Te={subscribe(t){return nt().page.subscribe(t)}};var ot=(t,e,r)=>e(r.href),it=h('<li><button class="svelte-1uysugx"> </button></li>');function N(t,e){j(e,!1);const r={};ee(r);const s=()=>V(Te,"$page",r);var a=L(t,!0,it),l=u(a),d=u(l);R(()=>{ie(l,"active",s().url.pathname==e.href),te(d,e.text)}),l.__click=[ot,Oe,e],O(t,a),S()}pe(["click"]);const lt=async(t,e,r,s,a,l)=>{await e(r).then(()=>{Ve(s,void 0),l("/auth/login")}).catch(d=>console.log(d))};var dt=h("<li><button>Logout</button></li>");function he(t,e){j(e,!1);const r={};ee(r);const s=()=>V(se,"$session",r);var a=L(t,!0,dt),l=u(a);l.__click=[lt,Je,xe,se,s,Oe],O(t,a),S()}pe(["click"]);var vt=h("<li>Loading</li>"),ut=h("<!> <!>",!0),ft=h("<!> <!>",!0),ct=h("<li>Loading</li>"),gt=h("<!> <!>",!0),_t=h("<!> <!>",!0),mt=h('<header class="shadow px-4 bg-base-100"><div class="navbar"><div class="navbar-start"><div class="dropdown"><div tabindex="0" role="button" class="btn btn-ghost lg:hidden"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h8m-8 6h16"></path></svg></div> <ul class="menu menu-sm dropdown-content mt-3 z-[1] p-2 shadow bg-base-100 rounded-box w-52"><!> <!> <li><span>Continents</span> <ul class="p-2"><!></ul></li> <li><span> </span> <ul class="p-2"><!></ul></li></ul></div> <a class="btn btn-ghost text-xl font-logoFont" href="/">Guess-A-Flag</a></div> <div class="navbar-center hidden lg:flex"><ul class="menu menu-horizontal px-1"><!> <li><details><summary>Continents</summary> <ul class="p-2 z-[1]"><!></ul></details></li> <!> <li><details><summary> </summary> <ul class="p-2 z-[1]"><!></ul></details></li></ul></div> <div class="navbar-end"><span class="btn"> </span></div></div></header>');function bt(t,e){j(e,!1);const r={};ee(r);const s=()=>V(se,"$session",r),a=()=>V($e,"$score",r),l=async()=>await fetch("/api/continent").then(m=>m.json());var d=L(t,!0,mt),n=u(d),f=u(n),_=u(f),o=u(_),v=i(i(o)),b=u(v),y=i(i(b)),x=i(i(y)),k=u(x),I=i(i(k)),D=u(I),E=i(i(x)),W=u(E),U=u(W),F=i(i(W)),X=u(F),ve=i(i(f)),Le=u(ve),ue=u(Le),fe=i(i(ue)),Ne=u(fe),Ae=u(Ne),Se=i(i(Ae)),je=u(Se),ce=i(i(fe)),He=i(i(ce)),ze=u(He),ge=u(ze),Me=u(ge),Be=i(i(ge)),De=u(Be),Ue=i(i(ve)),Re=u(Ue),Ee=u(Re);R(()=>{te(U,s()?.user?.displayName?s().user.displayName:"User"),te(Me,s()?.user?.displayName?s().user.displayName:"User"),te(Ee,`Score: ${q(a())}`)}),N(b,{href:"/",text:"Home"}),N(y,{href:"/scores",text:"Scores"}),_e(D,l,m=>{var w=L(m,!0,vt);O(m,w)},(m,w)=>{var C=p(m),H=g(C);be(H,()=>w,1,(Y,Z,Fe)=>{var $=p(Y),re=g($);N(re,{get href(){return G(Z).href},get text(){return G(Z).name}}),c(Y,$)},null),c(m,C)},null),B(X,()=>s()?.loggedIn,m=>{var w=K(m,!0,ut),C=g(w),H=i(i(C));N(C,{href:"/profile",text:"Profile"}),he(H,{}),c(m,w)},m=>{var w=K(m,!0,ft),C=g(w),H=i(i(C));N(C,{href:"/auth/login",text:"Login"}),N(H,{href:"/auth/register",text:"Register"}),c(m,w)}),N(ue,{href:"/",text:"Home"}),_e(je,l,m=>{var w=L(m,!0,ct);O(m,w)},(m,w)=>{var C=p(m),H=g(C);be(H,()=>w,1,(Y,Z,Fe)=>{var $=p(Y),re=g($);N(re,{get href(){return G(Z).href},get text(){return G(Z).name}}),c(Y,$)},null),c(m,C)},null),N(ce,{href:"/scores",text:"Scores"}),B(De,()=>s()?.loggedIn,m=>{var w=K(m,!0,gt),C=g(w),H=i(i(C));N(C,{href:"/profile",text:"Profile"}),he(H,{}),c(m,w)},m=>{var w=K(m,!0,_t),C=g(w),H=i(i(C));N(C,{href:"/auth/login",text:"Login"}),N(H,{href:"/auth/register",text:"Register"}),c(m,w)}),O(t,d),S()}function yt(t,e,r){const{reverseOrder:s,gutter:a=8,defaultPosition:l}=r||{},d=e.filter(o=>(o.position||l)===(t.position||l)&&o.height),n=d.findIndex(o=>o.id===t.id),f=d.filter((o,v)=>v<n&&o.visible).length;return d.filter(o=>o.visible).slice(...s?[f+1]:[0,f]).reduce((o,v)=>o+(v.height||0)+a,0)}const ht={startPause(){tt(Date.now())},endPause(){at(Date.now())},updateHeight:(t,e)=>{st({id:t,height:e})},calculateOffset:yt};function xt(t){const{toasts:e,pausedAt:r}=et(t),s=new Map;let a;const l=[r.subscribe(d=>{if(d){for(const[,n]of s)clearTimeout(n);s.clear()}a=d}),e.subscribe(d=>{if(a)return;const n=Date.now();for(const f of d){if(s.has(f.id)||f.duration===1/0)continue;const _=(f.duration||0)+f.pauseDuration-(n-f.createdAt);if(_<0)return f.visible&&ye.dismiss(f.id),null;s.set(f.id,setTimeout(()=>ye.dismiss(f.id),_))}})];return Xe(()=>{for(const d of l)d()}),{toasts:e,handlers:ht}}var pt=h('<div class="svelte-11kvm4p"></div>');function wt(t,e){j(e,!1);let r=T(e,"primary",0,"#61d345"),s=T(e,"secondary",0,"#fff");var a=L(t,!0,pt);R(()=>{A(a,"--primary",r()),A(a,"--secondary",s())}),O(t,a),S()}var kt=h('<div class="svelte-1ee93ns"></div>');function Pt(t,e){j(e,!1);let r=T(e,"primary",0,"#ff4b4b"),s=T(e,"secondary",0,"#fff");var a=L(t,!0,kt);R(()=>{A(a,"--primary",r()),A(a,"--secondary",s())}),O(t,a),S()}var Ct=h('<div class="svelte-1j7dflg"></div>');function Ot(t,e){j(e,!1);let r=T(e,"primary",0,"#616161"),s=T(e,"secondary",0,"#e0e0e0");var a=L(t,!0,Ct);R(()=>{A(a,"--primary",r()),A(a,"--secondary",s())}),O(t,a),S()}var It=h('<div class="animated svelte-1kgeier"> </div>'),Tt=h('<div class="status svelte-1kgeier"><!></div>'),Lt=h('<div class="indicator svelte-1kgeier"><!> <!></div>');function oe(t,e){j(e,!1);const r=z(),s=z(),a=z();J(()=>{e.toast,Q(()=>{(()=>{const n=e.toast;return M(r,n.type),M(s,n.icon),M(a,n.iconTheme),n})()})});var l=p(t),d=g(l);B(d,()=>typeof P(s)=="string",n=>{var f=L(n,!0,It),_=u(f);we(_,()=>P(s)),O(n,f)},n=>{var f=p(n),_=g(f);B(_,()=>typeof P(s)<"u",o=>{var v=p(o),b=g(v);le(b,()=>P(s),y=>{y(b,{})}),c(o,v)},o=>{var v=p(o),b=g(v);B(b,()=>P(r)!=="blank",y=>{var x=L(y,!0,Lt),k=u(x),I=i(i(k));Ot(k,ne(()=>P(a))),B(I,()=>P(r)!=="loading",D=>{var E=L(D,!0,Tt),W=u(E);B(W,()=>P(r)==="error",U=>{var F=p(U),X=g(F);Pt(X,ne(()=>P(a))),c(U,F)},U=>{var F=p(U),X=g(F);wt(X,ne(()=>P(a))),c(U,F)}),O(D,E)},null),O(y,x)},null),c(o,v)}),c(n,f)}),c(t,l),S()}var Nt=h("<div><!></div>");function ae(t,e){j(e,!1);var r=L(t,!0,Nt),s=u(r);Qe(r,()=>[{class:"message"},e.toast.ariaProps],!0,"svelte-1nauejd"),B(s,()=>typeof e.toast.message=="string",a=>{var l=We(a);we(l,()=>e.toast.message),O(a,l)},a=>{var l=p(a),d=g(l);le(d,()=>e.toast.message,n=>{n(d,{get toast(){return e.toast}})}),c(a,l)}),O(t,r),S()}var At=h("<!> <!>",!0),St=h("<div><!></div>");function jt(t,e){j(e,!1);let r=T(e,"position",8,()=>{}),s=T(e,"style",0,""),a=T(e,"Component",8,()=>{}),l=z(),d=z();J(()=>{e.toast,r(),Q(()=>{const o=(e.toast.position||r()||"top-center").includes("top");M(l,o?1:-1);const[v,b]=Ie()?["fadeIn","fadeOut"]:["enter","exit"];M(d,e.toast.visible?v:b)})});var n=L(t,!0,St),f=u(n),_;R(()=>{ke(n,`base ${q(e.toast.height?P(d):"transparent")} ${q(e.toast.className||"")} svelte-ug60r4`),_!==(_=`${q(s())}; ${q(e.toast.style)}`)&&Pe(n,"style",_),A(n,"--factor",P(l))}),B(f,a,o=>{var v=p(o),b=g(v);le(b,a,y=>{y(b,{$$slots:{icon:(x,k)=>{var I=p(x),D=g(I);oe(D,{get toast(){return e.toast},slot:"icon"}),c(x,I)},message:(x,k)=>{var I=p(x),D=g(I);ae(D,{get toast(){return e.toast},slot:"message"}),c(x,I)}}})}),c(o,v)},o=>{var v=p(o),b=g(v);de(b,e.children,{ToastIcon:oe,ToastMessage:ae,get toast(){return e.toast}},y=>{var x=K(y,!0,At),k=g(x),I=i(i(k));oe(k,{get toast(){return e.toast}}),ae(I,{get toast(){return e.toast}}),c(y,x)}),c(o,v)}),O(t,n),S()}var Ht=h('<div class="wrapper svelte-v01oml"><!></div>');function zt(t,e){j(e,!1);const r=z(),s=z(),a=z(),l=z();let d=z();Ce(()=>{e.setHeight(P(d).getBoundingClientRect().height)}),J(()=>{e.toast,Q(()=>{M(r,e.toast.position?.includes("top")?0:null)})}),J(()=>{e.toast,Q(()=>{M(s,e.toast.position?.includes("bottom")?0:null)})}),J(()=>{e.toast,Q(()=>{M(a,e.toast.position?.includes("top")?1:-1)})}),J(()=>{e.toast,Q(()=>{M(l,e.toast.position?.includes("center")&&"center"||(e.toast.position?.includes("right")||e.toast.position?.includes("end"))&&"flex-end"||null)})});var n=L(t,!0,Ht);qe(n,_=>M(d,_),d),ie(n,"transition",!Ie());var f=u(n);R(()=>{ie(n,"active",e.toast.visible),A(n,"--factor",P(a)),A(n,"--offset",e.toast.offset),A(n,"top",P(r)),A(n,"bottom",P(s)),A(n,"justify-content",P(l))}),B(f,()=>e.toast.type==="custom",_=>{var o=p(_),v=g(o);ae(v,{get toast(){return e.toast}}),c(_,o)},_=>{var o=p(_),v=g(o);de(v,e.children,{get toast(){return e.toast}},b=>{var y=p(b),x=g(y);jt(x,{get toast(){return e.toast},get position(){return e.toast.position}}),c(b,y)}),c(_,o)}),O(t,n),S()}var Mt=h('<div role="alert"></div>');function Bt(t,e){j(e,!1);const r={};ee(r);const s=()=>V(o,"$toasts",r);let a=T(e,"reverseOrder",0,!1),l=T(e,"position",0,"top-center"),d=T(e,"toastOptions",8,()=>{}),n=T(e,"gutter",0,8),f=T(e,"containerStyle",8,()=>{}),_=T(e,"containerClassName",8,()=>{});const{toasts:o,handlers:v}=xt(d());let b=z();J(()=>{s(),l(),a(),n(),Q(()=>{M(b,s().map(k=>({...k,position:k.position||l(),offset:v.calculateOffset(k,s(),{reverseOrder:a(),gutter:n(),defaultPosition:l()})})))})});var y=L(t,!0,Mt),x;R(()=>{ke(y,`toaster ${q(_()||"")} svelte-1phplh9`),x!==(x=f())&&Pe(y,"style",x)}),me("mouseenter",y,v.startPause,!1),me("mouseleave",y,v.endPause,!1),Ye(y,()=>P(b),13,(k,I)=>G(k).id,(k,I,D)=>{var E=p(k),W=g(E);zt(W,{get toast(){return G(I)},setHeight:U=>v.updateHeight(G(I).id,U)}),c(k,E)},null),O(t,y),S()}var Dt=h('<div class="app bg-gray-200 svelte-1gpzx3b"><!> <main class="svelte-1gpzx3b"><!></main></div> <!>',!0);function Vt(t,e){j(e,!1);const r={};ee(r);const s=()=>V(Te,"$page",r);Ce(async()=>{const o=await e.data.getAuthUser(),v=!!o;se.update(b=>({...b,user:{uid:o.uid,displayName:o.displayName,email:o.email},loggedIn:v}))});var a=K(t,!0,Dt),l=g(a),d=u(l),n=i(i(d)),f=u(n),_=i(i(l));bt(d,{}),Ke(f,()=>s().url.pathname,o=>{var v=p(o),b=g(v);de(b,e.children,{},null),c(o,v)}),Bt(_,{}),c(t,a),S()}export{Vt as component,Kt as universal};
