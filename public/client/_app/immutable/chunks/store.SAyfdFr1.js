import{w as d}from"./index.K1lkvplB.js";let r=[],w=(e,f)=>{let n=[],s={get(){return s.lc||s.listen(()=>{})(),s.value},l:f||0,lc:0,listen(i,l){return s.lc=n.push(i,l||s.l)/2,()=>{let t=n.indexOf(i);~t&&(n.splice(t,2),--s.lc||s.off())}},notify(i){let l=!r.length;for(let t=0;t<n.length;t+=2)r.push(n[t],n[t+1],s.value,i);if(l){for(let t=0;t<r.length;t+=4){let o;for(let a=t+1;!o&&(a+=4)<r.length;)r[a]<r[t+1]&&(o=r.push(r[t],r[t+1],r[t+2],r[t+3]));o||r[t](r[t+2],r[t+3])}r.length=0}},off(){},set(i){s.value!==i&&(s.value=i,s.notify())},subscribe(i,l){let t=s.listen(i,l);return i(s.value),t},value:e};return s};const h=5,v=6,g=10;let L=(e,f,n,s)=>(e.events=e.events||{},e.events[n+g]||(e.events[n+g]=s(i=>{e.events[n].reduceRight((l,t)=>(t(l),l),{shared:{},...i})})),e.events[n]=e.events[n]||[],e.events[n].push(f),()=>{let i=e.events[n],l=i.indexOf(f);i.splice(l,1),i.length||(delete e.events[n],e.events[n+g](),delete e.events[n+g])}),O=1e3,T=(e,f)=>L(e,s=>{let i=f(s);i&&e.events[v].push(i)},h,s=>{let i=e.listen;e.listen=(...t)=>(!e.lc&&!e.active&&(e.active=!0,s()),i(...t));let l=e.off;return e.events[v]=[],e.off=()=>{l(),setTimeout(()=>{if(e.active&&!e.lc){e.active=!1;for(let t of e.events[v])t();e.events[v]=[]}},O)},()=>{e.listen=i,e.off=l}}),p=e=>e,c={},E={addEventListener(){},removeEventListener(){}};function U(){try{return typeof localStorage<"u"}catch{return!1}}U()&&(c=localStorage);let N={addEventListener(e,f,n){window.addEventListener("storage",f),window.addEventListener("pageshow",n)},removeEventListener(e,f,n){window.removeEventListener("storage",f),window.removeEventListener("pageshow",n)}};typeof window<"u"&&(E=N);function m(e,f=void 0,n={}){let s=n.encode||p,i=n.decode||p,l=w(f),t=l.set;l.set=u=>{typeof u>"u"?delete c[e]:c[e]=s(u),t(u)};function o(u){u.key===e?u.newValue===null?t(void 0):t(i(u.newValue)):c[e]||t(void 0)}function a(){l.set(c[e]?i(c[e]):f)}return T(l,()=>{if(a(),n.listen!==!1)return E.addEventListener(e,o,a),()=>{E.removeEventListener(e,o,a)}}),l}const y=d(!1),M=d([]),S=d(0),k=d(!1),A=d(0),R=d(!1),_=m("user_uuid",crypto.randomUUID().toString()),I=d(!1);export{R as a,k as b,I as c,S as d,M as e,y as i,A as s,_ as u};
