import{k as pe,r as T,l as le,m as we,n as J,p as ye,q as be,u as V,w as xe,x as ie,y as Ae,g as ce,t as Ce,f as I,v as y,h as S,a as j,d as E,z as Ee,A as q,s as A,B as Z,c as M,C as F,j as ue,b as O,D as Ie,$ as Se,o as ke}from"../chunks/disclose-version.Cmz5mThz.js";import{r as k,i as Le,E as de,d as Qe,e as R,S as ee,l as te,f as U,g as ne,h as ze,j as H,k as Te,m as je,n as fe,o as Me,q as Oe,t as _e,v as se,c as W,b as X,w as De,p as $,x as ae,y as x,s as b,z as oe,A as K,B as He}from"../chunks/runtime.TOA9DToB.js";import{i as C,a as L,c as D,s as B,b as N,d as Y}from"../chunks/store.B524xEO-.js";import{o as Be}from"../chunks/main-client.i1X26JgJ.js";function Ne(){}function Re(e,s,t,a,n,u,l){const g=(t&H)!==0,o=Te(t,e);let h=null;pe(e,g);let d,m=null,p=null;o.r=r=>{const f=h,c=f.s;c.add(r),r.f(()=>{c.delete(r),c.size===0&&f.e!==null&&(f.d!==null&&(T(f.d),f.d=null),R(f.e),f.e=null)})};const i=()=>{const r={d:null,e:null,s:new Set,p:h},f=k(()=>{const c=o.d;c!==null&&(T(c),o.d=null);let _=o.a;(o.f&H)!==0&&(_=xe(),o.a.appendChild(_)),u(_),r.d=o.d,o.d=null},o,!0);r.e=f,h=r},w=r=>{const f=r.f,c=(f&H)!==0,_=r.a;l(d,r,_,c,n,f,!0,m)},v=k(()=>{const r=s();d=Le(r)?r:r==null?[]:Array.from(r),a!==null?m=d.map(a):t&de||d.map(Ne);const f=d.length;if(u!==null){if(f===0){if(o.v.length!==0||p===null){w(o),i();return}}else if(o.v.length===0&&h!==null){const c=h,_=c.s;_.size===0?c.d!==null&&(T(c.d),c.d=null):le(_,"out")}}p!==null&&je(p)},o,!1);p=k(w,o,!0),Qe(v,()=>{const r=o.f,f=o.a,c=(r&H)!==0;let _=h;for(;_!==null;){const Q=_.d;Q!==null&&T(Q);const z=_.e;z!==null&&R(z),_=_.p}l([],o,f,c,n,r,!1,m),R(p)}),o.e=v}function qe(e,s,t,a,n){Re(e,s,t,null,a,n,Fe)}function Fe(e,s,t,a,n,u,l){var g=ee in e&&e[ee].i,o=s.v,h=s.s;g&&(u&=~U);var d=o.length,m=e.length,p=Math.max(d,m),i=0,w,v;if(h.length!==0&&Ye(h),m===0)for(w=[],a&&d!==0&&we(t);i<p;)v=o[i++],P(v,h,l,a);else{var r;if(w=Array(m),J!==null)for(var f=J[0];i<p;i++){r=g?te(e,i):e[i];var c=ye(f);be(c),f=c.at(-1).nextSibling.nextSibling,v=re(r,null,i,n,u),w[i]=v}else for(;i<p;i++)i>=d?(r=g?te(e,i):e[i],v=re(r,null,i,n,u),w[i]=v,Ve(v,t,a,null)):i>=m?(v=o[i],P(v,h,l)):(r=e[i],v=o[i],w[i]=v,Ke(v,r,i,u))}s.v=w}function Ve(e,s,t,a){var n=e.d;return a===null?t?V(n,s,null):V(n,s.parentNode,s):V(n,null,a)}function Ye(e){var s=e.length;if(s>0){for(var t=0,a,n;t<s;t++)a=e[t],n=a.r,n!==null&&(a.r=null,P(a,null,!1));e.length=0}}function Ke(e,s,t,a){a&U?ne(e.v,s):ze(e.v)&&(e.v.o[e.v.p]=s);const n=e.s,u=(a&fe)!==0,l=e.a;n!==null&&a&de&&l!==null&&l(e,n),u?ne(e.i,t):e.i=t}function P(e,s,t,a=!1){const n=e.s;if(t&&n!==null){for(let l of n)l.r==="key"&&n.delete(l);if(n.size===0)e.s=null;else{le(n,"out"),s!==null&&s.push(e);return}}const u=e.d;!a&&u!==null&&T(u),R(e.e)}function re(e,s,t,a,n){const l=(n&U)===0?e:n&Oe?se(e):_e(e),g=n&fe?se(t):t,o=Me(l,g,s),h=k(d=>{a(null,d.v,d.i)},o,!0);return o.e=h,o}const Pe=!0,ct=Object.freeze(Object.defineProperty({__proto__:null,prerender:Pe},Symbol.toStringTag,{value:"Module"})),Ue=async(e,s,t,a,n,u,l)=>{if(t())console.log(t());else{const g=await fetch(`/api?id=${a.id}&answer=${a.option}`).then(o=>o.json());g.correct?ae(n,"bg-green-700"):ae(n,"bg-red-700"),x(s,!0),x(u,g.correct)}};var We=E("<button> </button>");function ve(e,s){if(new.target===ve)throw new Error("Instantiating a component with `new` is no longer valid in Svelte 5. See https://svelte-5-preview.vercel.app/docs/breaking-changes#components-are-no-longer-classes for more information");W(s,!1);const t={};X(t);const a=()=>(y(C,"isQuestionAnswered"),b(C,"$isQuestionAnswered",t)),n=()=>(y(L,"isCorrect"),b(L,"$isCorrect",t));let u=_e("bg-blue-700");var l=S(e,!0,We),g=j(l);k(()=>{Ae(l,`shadow p-2 ${ce(De(u))} min-w-full rounded text-white font-bold`),Ce(g,s.option)}),l.__click=[Ue,C,a,s,u,L,n],I(e,l),$()}ie(["click"]);const Xe=(e,s,t,a,n,u,l,g,o)=>{oe(s,t()),x(a,!1),oe(u,l()),x(g,!1)},$e=(e,s,t,a,n,u)=>{s.fetchData(),x(t,!1),x(n,0)};var Ge=E('<button class="w-full bg-blue-700 px-6 py-4 rounded font-bold text-white shadow">Next country</button>'),Je=E('<button class="w-full bg-blue-700 rounded font-bold text-white shadow px-6 py-4 mt-4">Restart</button>'),Ze=E('<div class="max-w-lg rounded overflow-hidden shadow-lg"><img class="w-full" height="240" width="360"> <div class="px-6 py-4"><div class="font-bold text-xl mb-2">What country is this?</div> <div class="grid gap-2 mb-2 sm:grid-cols-1 md:grid-cols-2"><!></div> <!></div> <!></div>');function ge(e,s){if(new.target===ge)throw new Error("Instantiating a component with `new` is no longer valid in Svelte 5. See https://svelte-5-preview.vercel.app/docs/breaking-changes#components-are-no-longer-classes for more information");W(s,!1);const t={};X(t);const a=()=>(y(D,"countryId"),b(D,"$countryId",t)),n=()=>(y(L,"isCorrect"),b(L,"$isCorrect",t)),u=()=>(y(B,"score"),b(B,"$score",t)),l=()=>(y(C,"isQuestionAnswered"),b(C,"$isQuestionAnswered",t));let g=!1;var o=S(e,!0,Ze),h=j(o),d=A(A(h)),m=j(d),p=A(A(m)),i=j(p),w=A(A(p)),v=A(A(d)),r,f;k(()=>{r!==(r=`https://flagcdn.com/h240/${ce(s.country.code)}.png`)&&Z(h,"src",r),f!==(f=s.country.code)&&Z(h,"alt",f)}),Ee(i,()=>s.country.id,c=>{var _=F(c),Q=O(_);qe(Q,()=>s.country.answerOptions,1,(z,he,at)=>{var G=F(z),me=O(G);ue(ve)(me,{get id(){return K(s.country.id)},get option(){return K(He(he))},isAlreadyAnswered:g}),M(z,G)},null),M(c,_)}),q(w,n,c=>{var _=S(c,!0,Ge);_.__click=[Xe,D,a,L,n,B,u,C,l],I(c,_)},null),q(v,()=>!n()&&l(),c=>{var _=S(c,!0,Je);_.__click=[$e,s,C,l,B,u],I(c,_)},null),I(e,o),$()}ie(["click"]);var et=E('<meta name="description" content="Quess-A-Flag">'),tt=E("<h1>Loading</h1>"),nt=E('<section class="container mx-auto"><!></section> <style>section { display: flex; flex-direction: column; justify-content: center; align-items: center; flex: 0.6; } h1 { width: 100%; } .welcome { display: block; position: relative; width: 100%; height: 0; padding: 0 0 calc(100% * 495 / 2048) 0; } .welcome img { position: absolute; width: 100%; height: 100%; top: 0; display: block; }</style>',!0);function st(e,s){if(new.target===st)throw new Error("Instantiating a component with `new` is no longer valid in Svelte 5. See https://svelte-5-preview.vercel.app/docs/breaking-changes#components-are-no-longer-classes for more information");W(s,!1);const t={};X(t);const a=()=>(y(N,"isLoading"),b(N,"$isLoading",t)),n=()=>(y(Y,"countries"),b(Y,"$countries",t)),u=()=>(y(D,"countryId"),b(D,"$countryId",t));let l;const g=async()=>{x(N,!0);const d=await fetch("/api").then(m=>m.json());x(Y,d),n()[0],x(N,!1)};Be(async()=>{await g()}),console.log(l);var o=F(e),h=O(o);Ie(d=>{var m=S(d,!0,et);Se.title="Home",I(d,m)}),q(h,a,d=>{var m=S(d,!0,tt);I(d,m)},d=>{var m=ke(d,!0,nt),p=O(m),i=j(p);q(i,()=>n().length!==0,w=>{var v=F(w),r=O(v);ue(ge)(r,{get country(){return K(n()[u()])},fetchData:g}),M(w,v)},null),M(d,m)}),M(e,o),$()}export{st as component,ct as universal};
